game.enemy={playtime:3,buyCard:function(){game.enemy.hand+=1,game.random()},buyHand:function(){var a;for(a=0;a<game.enemy.cardsPerTurn;a+=1)game.enemy.hand<game.enemy.maxCards&&game.enemy.buyCard()},move:function(){game.message.text(game.data.ui.enemymove),game.enemy.skills.deck.addClass("slide");var a,b,c,d,e,f,g,h,i,j,k=game.currentData.moves.split("|");for(c=0;c<k.length;c+=1)d=k[c].split(":"),d[1]&&d[2]&&(a=game.map.mirrorPosition(d[1]),b=game.map.mirrorPosition(d[2]),"M"===d[0]&&(f=$("#"+a+" .card"),b&&!f.hasClass("done")&&f.hasClass("enemy")&&f.move&&f.move(b)),"A"===d[0]&&(e=$("#"+a+" .card"),b&&!e.hasClass("done")&&e.hasClass("enemy")&&e.attack&&e.attack(b)),"C"===d[0]&&(i=d[3],h=d[4],e=$("#"+a+" .card"),f=$("#"+b),j=$(".enemy.skills ."+h+"-"+i).show(),g=j.data("targets"),(g.indexOf(game.data.ui.enemy)>=0||g.indexOf(game.data.ui.ally)>=0||g.indexOf(game.data.ui.self)>=0)&&(f=$("#"+b+" .card")),game.skills[h][i].cast&&j&&!e.hasClass("done")&&e.hasClass("enemy")&&e.cast&&(e.cast(j,f),game.enemy.hand-=1)),"P"===d[0]&&(b=game.map.mirrorPosition(d[1]),i=d[2],h=d[3],f=$("#"+b+" .card"),j=$(".enemy.skills ."+h+"-"+i).show(),game.skills[h][i].passive&&j&&f.hasClass("enemy")&&j.passive&&(j.passive(j,f),game.enemy.hand-=1)),"T"===d[0]&&(b=game.map.mirrorPosition(d[1]),i=d[2],h=d[3],f=$("#"+b+" .card"),j=$(".enemy.skills ."+h+"-"+i).show(),game.skills[h][i].toggle&&j&&f.hasClass("enemy")&&j.toggle&&(j.toggle(j,f),game.enemy.hand-=1)));"tutorial"!==game.mode&&setTimeout(game.enemy.end,1e3*game.enemy.playtime)},end:function(){"over"!==game.status&&(game.enemy.skills.deck.removeClass("slide"),$(".card.enemy.heroes").removeClass("done"),$(".enemy.skills .card").hide(),game.status="turn",game.turn.begin(),game.selectedCard&&game.selectedCard.select())}};