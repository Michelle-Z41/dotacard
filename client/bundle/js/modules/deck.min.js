game.deck={build:function(a){var b=a.name,c=a.filter,d=a.cb,e=a.multi,f=$("<div>").addClass("deck "+b);return game[b]?game.deck.createCards(f,b,d,c,e):game.load.json(b,function(){game.deck.createCards(f,b,d,c,e)}),f},createCards:function(a,b,c,d,e){"heroes"===b&&game.deck.createHeroesCards(a,b,c,d),"skills"===b&&game.deck.createSkillsCards(a,b,c,d,e),"units"===b&&game.deck.createUnitsCards(a,b,c,d)},createHeroesCards:function(a,b,c,d){var e,f=game.data[b],g=[];$.each(f,function(c,f){var h=!1;d&&$.each(d,function(a,b){b===c&&(h=!0)}),(h||!d)&&(f.hero=c,f.speed=2,f["current speed"]=2,f.kd=!0,f.buffs=!0,f.className=[c,b].join(" "),e=game.card.build(f).appendTo(a),g.push(e))}),a.data("cards",g),c&&c(a)},createSkillsCards:function(a,b,c,d,e){var f=game.data[b],g=[];$.each(f,function(c,f){var h=!1;d&&$.each(d,function(a,b){b===c&&(h=!0)}),(h||!d)&&$.each(f,function(d,f){var h;if(f.hero=c,f.skill=d,f.className=[c+"-"+d,b,c].join(" "),game.data.buffs[c]&&game.data.buffs[c][d]&&(f.buff=game.data.buffs[c][d]),e)for(h=0;h<f[e];h+=1)g.push(game.card.build(f).appendTo(a));else g.push(game.card.build(f).appendTo(a))})}),a.data("cards",g),c&&c(a)},createUnitsCards:function(a,b,c,d){var e=game.data[b],f=[];$.each(e,function(c,e){var g=!1;d&&$.each(d,function(a,b){b===c&&(g=!0)}),(g||!d)&&$.each(e,function(d,e){e.className=[d,b,c].join(" "),e.hero=c,e.speed=2,e["current speed"]=2,e.buffs=!0,f.push(game.card.build(e).appendTo(a))})}),a.data("cards",f),c&&c(a)},randomCard:function(a,b){return b?$(a[parseInt(Math.random()*a.length,10)]):$(a[parseInt(game.random()*a.length,10)])}};