game.skills.am={burn:{passive:function(a,b){b.on("attack.burn",this.attack).data("am-burn",a),b.addBuff(b,a.data("buff")),b.on("die.am-burn",this.die),b.on("reborn.am-burn",this.reborn)},attack:function(a,b){var c=b.source,d=b.target,e=d.data("hero"),f=c.data("side");if(game.audio.play("am/burn"),"enemy"===f&&e){var g=game.states.table.playerHand.children("."+e);if(g.length>0){var h=game.deck.randomCard(g,"noseed");h.discard()}}},die:function(a,b){var c=b.target;c.removeBuff("am-burn"),c.off("attack.am-burn").data("am-burn",null)},reborn:function(a,b){var c=b.target,d=c.data("am-burn");c.addBuff(c,d.data("buff")),c.on("attack.am-burn",this.attack).data("am-burn",d)}},passive:{passive:function(a,b){b.data("resistance",a.data("percentage")/100)}},blink:{cast:function(a,b,c){b.css({opacity:0}),setTimeout(function(){this.source.place(this.target).css({opacity:1}),this.source.select()}.bind({source:b,target:c}),400)}},ult:{cast:function(a,b,c){var d=game.map.getPosition(c);"turn"===game.status&&game.states.table.animateCast(a,d,game.states.table.playerCemitery);var e=b.data("side"),f="enemy"===e?"player":"enemy",g=game.enemy.maxCards-game.enemy.hand;g*=a.data("multiplier"),game.map.inRange(d,game.map.getRange(a.data("aoe range")),function(c){var d=c.find(".card."+f);d.length&&b.damage(g,d,a.data("damage type"))})}}};