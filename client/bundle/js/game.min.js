var game={container:$(".container").first(),loader:$("<span>").addClass("loader"),message:$("<span>").addClass("message"),triesCounter:$("<small>").addClass("triescounter"),scrollspeed:.4,timeToPick:25,timeToPlay:30,waitLimit:90,connectionLimit:60,dayLength:12,deadLength:10,width:12,height:8,tries:0,id:null,seed:null,data:{},currentData:{},mode:"",status:"",currentState:"noscript",start:function(){game.topbar=$("<div>").addClass("topbar").append(game.loader,game.message,game.triesCounter),window.$&&window.JSON&&window.btoa&&window.atob&&window.XMLHttpRequest&&Modernizr.backgroundsize&&Modernizr.csstransforms&&Modernizr.generatedcontent&&Modernizr.rgba&&Modernizr.opacity?game.states.changeTo("loading"):game.states.changeTo("unsupported")},language:{current:"en-US",available:["en-US","pt-BR"],dir:""},db:function(a,b){"string"!=typeof a.data&&(a.data=JSON.stringify(a.data)),$.ajax({async:!0,type:"GET",url:"/db",data:a,timeout:4e3,complete:function(a){var c;a.responseText&&(c=JSON.parse(a.responseText)),b&&b(c||{})}})},utils:function(){Number.prototype.map||(Number.prototype.map=function(a,b,c,d){return c+(d-c)*((this-a)/(b-a))}),Number.prototype.limit||(Number.prototype.limit=function(a,b){return Math.min(b,Math.max(a,this))}),Number.prototype.round||(Number.prototype.round=function(a){return Math.round(this)}),Number.prototype.floor||(Number.prototype.floor=function(){return Math.floor(this)}),Number.prototype.ceil||(Number.prototype.ceil=function(){return Math.ceil(this)}),Number.prototype.toInt||(Number.prototype.toInt=function(){return Number.parseInt(this)}),Number.prototype.toRad||(Number.prototype.toRad=function(){return this/180*Math.PI}),Number.prototype.toDeg||(Number.prototype.toDeg=function(){return 180*this/Math.PI}),Array.prototype.random||(Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]}),Array.prototype.erase||(Array.prototype.erase=function(a){var b;for(b=this.length-1;b>-1;b-=1)this[b]===a&&this.splice(b,1);return this}),Function.prototype.bind||(Function.prototype.bind=Function.prototype.bind||function(a){var b=this;return function(){var c=Array.prototype.slice.call(arguments);return b.apply(a||null,c)}}),$.fn.hasClasses=function(a){var b,c=a.split(" ");for(b=0;b<c.length;b+=1)if(this.hasClass(c[b]))return!0;return!1},$.fn.hasAllClasses=function(a){var b,c=a.split(" ");for(b=0;b<c.length;b+=1)if(!this.hasClass(c[b]))return!1;return!0}},random:function(){return game.seed+=1,parseFloat("0."+Math.sin(game.seed).toString().substr(6))},cancelEvent:function(a){return a&&a.preventDefault&&a.preventDefault(),!1},events:function(){game.card.bindJquery(),window.ontouchstart=game.cancelEvent,window.oncontextmenu=game.cancelEvent,window.onbeforeunload=function(){return"online"==game.mode?game.data.ui.leave:void 0}},test:function(){game.states.log.input.val("TestBot"),setTimeout(function(){game.states.log.button.click()}),setTimeout(function(){game.states.menu.tutorial.click()},1e3),setTimeout(function(){$(".pickedbox div:nth-child(1)").contextmenu()},2e3),setTimeout(function(){$(".pickedbox div:nth-child(2)").contextmenu()},2100),setTimeout(function(){$(".pickedbox div:nth-child(3)").contextmenu()},2200),setTimeout(function(){$(".pickedbox div:nth-child(4)").contextmenu()},2300),setTimeout(function(){$(".pickedbox div:nth-child(5)").contextmenu()},2400),setTimeout(function(){game.tutorial.axe.css({opacity:0})},2500),setTimeout(function(){game.match.buildSkills("single")},3e3),setTimeout(function(){$(".wk-stun.skills").appendTo(".player.hand")},4e3),setTimeout(function(){$(".map .hero.wk.player").place("G2"),game.status="turn"},5e3)}};